{"version":3,"file":"component---src-pages-news-js-4e728f2fc912762d7eb4.js","mappings":"2JA4CA,IAlCA,SAAa,GAAmC,IAAD,QAAlC,YAAEA,EAAW,MAAEC,EAAK,SAAEC,GAAU,EAC3C,MAAM,KAAEC,IAASC,EAAAA,EAAAA,gBAAe,YAc1BC,EAAkBL,GAAeG,EAAKG,aAAaN,YACnDO,EAAgC,QAApB,EAAGJ,EAAKG,oBAAY,aAAjB,EAAmBL,MAExC,OACE,gCACE,6BAAQM,EAAkBN,EAAK,MAAMM,EAAiBN,GACtD,wBAAMO,KAAK,cAAcC,QAASJ,IAClC,wBAAMK,SAAS,WAAWD,QAASR,IACnC,wBAAMS,SAAS,iBAAiBD,QAASJ,IACzC,wBAAMK,SAAS,UAAUD,QAAQ,YACjC,wBAAMD,KAAK,eAAeC,QAAQ,YAClC,wBAAMD,KAAK,kBAAkBC,SAA0B,QAAjB,EAAAN,EAAKG,oBAAY,aAAjB,EAAmBK,SAAM,KAC/D,wBAAMH,KAAK,gBAAgBC,QAASR,IACpC,wBAAMO,KAAK,sBAAsBC,QAASJ,IACzCH,EAGP,C,wGC8EA,UA3GiB,IAAe,IAAd,KAAEU,GAAM,EACxB,MAAMC,GAAc,IAAIC,MAAOC,cAC/BH,EAAOA,EAAKI,iBAAiBC,MAAMC,QACjC,QAAC,KAAEC,GAAM,SAAKA,EAAKC,aAAeP,CAAW,IAE/CD,EAAKS,SAAQ,SAASC,GACpB,MAMMC,EANO,IAAIT,KAAKQ,EAAQH,KAAKC,aACRI,mBAAmB,QAAS,CACrDC,KAAM,UACNC,MAAO,UACPC,IAAK,YAE6BC,QAAQ,sBAAuB,YACnEN,EAAQH,KAAKU,sBAAwBN,CACvC,IAEA,MAAMO,EAAUlB,GAEV,EAACmB,EAAK,EAACC,IAAWC,EAAAA,EAAAA,WAAS,OAAIH,EAAQI,MAAM,EAAG,MAGhD,EAACC,EAAS,EAACC,IAAeH,EAAAA,EAAAA,WAAS,IAGnC,EAACI,EAAQ,EAACC,IAAcL,EAAAA,EAAAA,UAASH,EAAQS,OAAS,IAyBxD,OAjBAC,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAASV,EAAKQ,OAAST,EAAQS,OACrCD,EAAWG,EAAO,GACjB,CAACV,KAGJS,EAAAA,EAAAA,YAAU,KACR,GAAIL,GAAYE,EAAS,CACvB,MAAMK,EAAgBX,EAAKQ,OAErBI,EADSD,EAAgBZ,EAAQS,OAEnCT,EAAQI,MAAMQ,EAAeA,EAAgB,IAC7C,GACJV,EAAQ,GAAD,eAAKD,IAAI,OAAKY,KACrBP,GAAY,EACd,IACC,CAACD,EAAUE,IACP,gBAAC,IAAM,KACZ,gBAAC,IAAG,CAACpC,MAAM,SAEX,2BAAS2C,UAAU,QACjB,+BACI,0BAAQC,MAAM,qBAAqBC,OAAQC,EAAAA,IAC3C,uBAAKH,UAAU,WAAWI,IAAKC,EAAAA,EAAUC,IAAI,UAEjD,uBAAKN,UAAU,qBACb,sBAAIA,UAAU,4BAA2B,QAGzC,uBAAKA,UAAU,wBACb,sBAAIA,UAAU,cACXb,EAAKoB,KAAIC,IACN,MAAM9B,EAAU8B,EAAKjC,KAErB,OACA,gBAAC,WAAc,CAACkC,IAAK/B,EAAQgC,IAC3B,sBAAIV,UAAU,cACZ,uBAAKA,UAAU,wBACb,wBAAMA,UAAU,cAActB,EAAQO,uBACtC,wBAAMe,UAAU,iBAAiBtB,EAAQiC,SAAS,KAEpD,gBAAC,EAAAC,KAAI,CAACC,GAAK,SAAWnC,EAAQgC,GAAKV,UAAU,eAAgBtB,EAAQoC,WAExD,MAMvBrB,EACI,0BAAQO,UAAU,SAASe,QAvDhB,KACrBvB,GAAY,EAAK,GAsD6C,SACpD,OAIH,C,qBCpGX,g/D,qBCAA,oxD","sources":["webpack://gatsby-starter-default/./src/components/seo.js","webpack://gatsby-starter-default/./src/pages/news.js","webpack://gatsby-starter-default/./src/images/bg/list-sp.svg","webpack://gatsby-starter-default/./src/images/bg/list.svg"],"sourcesContent":["/**\n * SEO component that queries for data with\n * Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.com/docs/how-to/querying-data/use-static-query/\n */\n\nimport * as React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nfunction Seo({ description, title, children }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n  const defaultTitle = site.siteMetadata?.title\n\n  return (\n    <>\n      <title>{defaultTitle ? `${title} | ${defaultTitle}` : title}</title>\n      <meta name=\"description\" content={metaDescription} />\n      <meta property=\"og:title\" content={title} />\n      <meta property=\"og:description\" content={metaDescription} />\n      <meta property=\"og:type\" content=\"website\" />\n      <meta name=\"twitter:card\" content=\"summary\" />\n      <meta name=\"twitter:creator\" content={site.siteMetadata?.author || ``} />\n      <meta name=\"twitter:title\" content={title} />\n      <meta name=\"twitter:description\" content={metaDescription} />\n      {children}\n    </>\n  )\n}\n\nexport default Seo\n","// pages/test.js\nimport React, { useState, useEffect } from 'react';\nimport { graphql, useStaticQuery } from 'gatsby';\n\n\nimport Layout from '../components/main-layout-ja';\nimport SEO from '../components/seo';\nimport { Link } from 'gatsby';\n\n//Image\nimport ListBg from '../images/bg/list.svg';\nimport ListBgSp from '../images/bg/list-sp.svg';\n\nconst NewsPage = ({ data }) => {\n  const currentDate = new Date().toISOString();\n  data = data.allMicrocmsPosts.edges.filter(\n    ({ node }) => node.public_date <= currentDate\n  );\n  data.forEach(function(article){\n    const date = new Date(article.node.public_date);\n    const formattedDate = date.toLocaleDateString('ja-JP', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n    });\n    const desiredFormat = formattedDate.replace(/(\\d+)\\/(\\d+)\\/(\\d+)/, '$1/$2/$3');\n    article.node.public_date_formatted = desiredFormat;\n  });\n\n  const allNews = data;\n  // State for the list\n  const [list, setList] = useState([...allNews.slice(0, 9)]);\n\n  // State to trigger oad more\n  const [loadMore, setLoadMore] = useState(false);\n\n  // State of whether there is more to load\n  const [hasMore, setHasMore] = useState(allNews.length > 10);\n  \n  // Load more button click\n  const handleLoadMore = () => {\n    setLoadMore(true);\n  };\n\n  //Check if there is more\n  useEffect(() => {\n    const isMore = list.length < allNews.length;\n    setHasMore(isMore);\n  }, [list]); //eslint-disable-line\n\n  // Handle loading more articles\n  useEffect(() => {\n    if (loadMore && hasMore) {\n      const currentLength = list.length;\n      const isMore = currentLength < allNews.length;\n      const nextResults = isMore\n        ? allNews.slice(currentLength, currentLength + 10)\n        : [];\n      setList([...list, ...nextResults]);\n      setLoadMore(false);\n    }\n  }, [loadMore, hasMore]); //eslint-disable-line\n  return <Layout>\n    <SEO title='お知らせ' />\n\n    <section className=\"news\">\n      <picture>\n          <source media=\"(min-width: 768px)\" srcSet={ListBg} />\n          <img className=\"list__bg\" src={ListBgSp} alt=\"お知らせ\" />\n      </picture>\n      <div className=\"default-max-width\">\n        <h2 className=\"heading heading--no-line\">\n          お知らせ\n        </h2>\n        <div className=\"news__list-container\">\n          <ul className=\"news__list\">\n            {list.map(edge => {\n                const article = edge.node\n\n                return (\n                <React.Fragment key={article.id}>\n                  <li className=\"news__item\">\n                    <div className=\"news__date-container\">\n                      <span className=\"news__date\">{article.public_date_formatted}</span>\n                      <span className=\"tag tag--blue\">{article.category[0]}</span>\n                    </div>\n                    <Link to={ \"/news/\" + article.id } className=\"news__title\">{ article.title_ja }</Link>\n                  </li>\n                </React.Fragment>\n                )\n            })}\n          </ul>\n        </div>\n        {\n          hasMore\n            ? <button className=\"button\" onClick={handleLoadMore}>もっと見る</button>\n            : null\n        }\n      </div>\n    </section>\n  </Layout>\n}\n\nexport const query = graphql`\n  {\n    allMicrocmsPosts(\n      sort: { fields: [public_date, createdAt], order: DESC }\n    ) {\n      edges {\n        node {\n          id\n          title_ja\n          public_date\n          category\n        }\n      }\n    }\n  }\n`\n\nexport default NewsPage","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTQuMzUzIiBoZWlnaHQ9IjY1My43NDIiIHZpZXdCb3g9IjAgMCA3NTQuMzUzIDY1My43NDIiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1Ny43NzkgMjgyLjgxMykiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MTIuNTUgLTI4Mi44MTMpIj48cmVjdCB3aWR0aD0iMjYzLjYwNCIgaGVpZ2h0PSIyMzMuNzAzIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjk1MSwgLTAuMzA5LCAwLjMwOSwgMC45NTEsIDE1NC43NzEsIDI4Ny43MzQpIiBmaWxsPSIjZjZmNWYyIi8+PHJlY3Qgd2lkdGg9IjI2My42MDQiIGhlaWdodD0iMTg5LjgwNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjc2LjU1MiA4My40ODQpIiBmaWxsPSIjZjZmNWYyIi8+PHJlY3Qgd2lkdGg9IjI2My42MDUiIGhlaWdodD0iMzM3Ljg2NyIgdHJhbnNmb3JtPSJtYXRyaXgoMC43OTksIDAuNjAyLCAtMC42MDIsIDAuNzk5LCA0NzAuNTU1LCAwKSIgZmlsbD0iI2Y2ZjVmMiIvPjwvZz48ZWxsaXBzZSBjeD0iMTguNjkyIiBjeT0iMTguNjkyIiByeD0iMTguNjkyIiByeT0iMTguNjkyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjkuNTIxIC02OC43ODcpIiBmaWxsPSIjNGNmZjlhIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTcxLjk0OSAtMjcuNTk2KSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjQiPjxjaXJjbGUgY3g9IjM2Ljg2MyIgY3k9IjM2Ljg2MyIgcj0iMzYuODYzIiBzdHJva2U9Im5vbmUiLz48Y2lyY2xlIGN4PSIzNi44NjMiIGN5PSIzNi44NjMiIHI9IjM0Ljg2MyIgZmlsbD0ibm9uZSIvPjwvZz48ZWxsaXBzZSBjeD0iMTIuMDY1IiBjeT0iMTIuMDY1IiByeD0iMTIuMDY1IiByeT0iMTIuMDY1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjAuNjYxIC00Ny43MjYpIiBmaWxsPSIjZWI0NGM0Ii8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3LjU1MSAxMS45MDUpIj48ZyBmaWxsPSJub25lIiBzdHJva2U9IiMxZDM1NWUiIHN0cm9rZS13aWR0aD0iMiIgb3BhY2l0eT0iMC4zIj48ZWxsaXBzZSBjeD0iMTc5LjUxMiIgY3k9IjE3OS41MTIiIHJ4PSIxNzkuNTEyIiByeT0iMTc5LjUxMiIgc3Ryb2tlPSJub25lIi8+PGVsbGlwc2UgY3g9IjE3OS41MTIiIGN5PSIxNzkuNTEyIiByeD0iMTc4LjUxMiIgcnk9IjE3OC41MTIiIGZpbGw9Im5vbmUiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjMuNzU1IDYzLjc1NSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2FhOTQzOSIgc3Ryb2tlLXdpZHRoPSIyIiBvcGFjaXR5PSIwLjMiPjxlbGxpcHNlIGN4PSIxMTUuNzU3IiBjeT0iMTE1Ljc1NyIgcng9IjExNS43NTciIHJ5PSIxMTUuNzU3IiBzdHJva2U9Im5vbmUiLz48ZWxsaXBzZSBjeD0iMTE1Ljc1NyIgY3k9IjExNS43NTciIHJ4PSIxMTQuNzU3IiByeT0iMTE0Ljc1NyIgZmlsbD0ibm9uZSIvPjwvZz48L2c+PC9nPjwvc3ZnPgo=\"","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTk1LjU1IiBoZWlnaHQ9IjE3MjcuNjk5IiB2aWV3Qm94PSIwIDAgMjU5NS41NSAxNzI3LjY5OSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDEyLjU1IDI4Mi44MTMpIj48cmVjdCB3aWR0aD0iODkzIiBoZWlnaHQ9Ijc5MS43MDUiIHRyYW5zZm9ybT0ibWF0cml4KDAuOTUxLCAtMC4zMDksIDAuMzA5LCAwLjk1MSwgLTQxMi41NSwgNjkxLjkyOSkiIGZpbGw9IiNmNmY1ZjIiLz48cmVjdCB3aWR0aD0iODkzIiBoZWlnaHQ9IjY0MyIgZmlsbD0iI2Y2ZjVmMiIvPjxyZWN0IHdpZHRoPSI4OTMiIGhlaWdodD0iMTE0NC41NzMiIHRyYW5zZm9ybT0ibWF0cml4KDAuNzk5LCAwLjYwMiwgLTAuNjAyLCAwLjc5OSwgNjU3LjIxMywgLTI4Mi44MTMpIiBmaWxsPSIjZjZmNWYyIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMzIDIwOSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI4Ij48Y2lyY2xlIGN4PSI5Ni41IiBjeT0iOTYuNSIgcj0iOTYuNSIgc3Ryb2tlPSJub25lIi8+PGNpcmNsZSBjeD0iOTYuNSIgY3k9Ijk2LjUiIHI9IjkyLjUiIGZpbGw9Im5vbmUiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYyMyAtMzk3KSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0NiA2NTMpIiBmaWxsPSJub25lIiBzdHJva2U9IiMxZDM1NWUiIHN0cm9rZS13aWR0aD0iMiIgb3BhY2l0eT0iMC4zIj48ZWxsaXBzZSBjeD0iNDUzIiBjeT0iNDUzIiByeD0iNDUzIiByeT0iNDUzIiBzdHJva2U9Im5vbmUiLz48ZWxsaXBzZSBjeD0iNDUzIiBjeT0iNDUzIiByeD0iNDUyIiByeT0iNDUyIiBmaWxsPSJub25lIi8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODUuMTE1IDgxMy44ODYpIiBmaWxsPSJub25lIiBzdHJva2U9IiNhYTk0MzkiIHN0cm9rZS13aWR0aD0iMiIgb3BhY2l0eT0iMC4zIj48ZWxsaXBzZSBjeD0iMjkyLjExNSIgY3k9IjI5Mi4xMTUiIHJ4PSIyOTIuMTE1IiByeT0iMjkyLjExNSIgc3Ryb2tlPSJub25lIi8+PGVsbGlwc2UgY3g9IjI5Mi4xMTUiIGN5PSIyOTIuMTE1IiByeD0iMjkxLjExNSIgcnk9IjI5MS4xMTUiIGZpbGw9Im5vbmUiLz48L2c+PC9nPjxjaXJjbGUgY3g9IjcxIiBjeT0iNzEiIHI9IjcxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTA3IDI2NykiIGZpbGw9IiM0Y2ZmOWEiLz48Y2lyY2xlIGN4PSI0NS44MjciIGN5PSI0NS44MjciIHI9IjQ1LjgyNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQ3My4zNDUgMzQ3KSIgZmlsbD0iI2ViNDRjNCIvPjwvZz48L3N2Zz4=\""],"names":["description","title","children","site","useStaticQuery","metaDescription","siteMetadata","defaultTitle","name","content","property","author","data","currentDate","Date","toISOString","allMicrocmsPosts","edges","filter","node","public_date","forEach","article","desiredFormat","toLocaleDateString","year","month","day","replace","public_date_formatted","allNews","list","setList","useState","slice","loadMore","setLoadMore","hasMore","setHasMore","length","useEffect","isMore","currentLength","nextResults","className","media","srcSet","ListBg","src","ListBgSp","alt","map","edge","key","id","category","Link","to","title_ja","onClick"],"sourceRoot":""}